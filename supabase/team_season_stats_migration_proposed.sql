-- PROPOSED ONLY. REVIEW BEFORE EXECUTION.
-- Adds missing columns + raw payload storage for team_season_stats.

ALTER TABLE public.nfl_team_season_stats
  ADD COLUMN IF NOT EXISTS stats_json jsonb,
  -- Totals / Net
  ADD COLUMN IF NOT EXISTS net_total_offensive_yards numeric,
  ADD COLUMN IF NOT EXISTS net_total_offensive_yards_per_game numeric,
  ADD COLUMN IF NOT EXISTS net_passing_yards_per_game numeric,
  ADD COLUMN IF NOT EXISTS net_yards_per_pass_attempt numeric,
  -- Explosives / Longs
  ADD COLUMN IF NOT EXISTS passing_long integer,
  ADD COLUMN IF NOT EXISTS rushing_long integer,
  ADD COLUMN IF NOT EXISTS receiving_long integer,
  ADD COLUMN IF NOT EXISTS returning_long_kick_return integer,
  ADD COLUMN IF NOT EXISTS returning_long_punt_return integer,
  ADD COLUMN IF NOT EXISTS returning_punt_return_fair_catches integer,
  -- Rushing / Receiving details
  ADD COLUMN IF NOT EXISTS rushing_fumbles_lost integer,
  ADD COLUMN IF NOT EXISTS receiving_yards_per_game numeric,
  ADD COLUMN IF NOT EXISTS receiving_fumbles integer,
  ADD COLUMN IF NOT EXISTS receiving_fumbles_lost integer,
  -- Misc / Situational
  ADD COLUMN IF NOT EXISTS misc_first_downs_passing integer,
  ADD COLUMN IF NOT EXISTS misc_first_downs_rushing integer,
  ADD COLUMN IF NOT EXISTS misc_first_downs_penalty integer,
  ADD COLUMN IF NOT EXISTS misc_third_down_convs integer,
  ADD COLUMN IF NOT EXISTS misc_third_down_attempts integer,
  ADD COLUMN IF NOT EXISTS misc_fourth_down_convs integer,
  ADD COLUMN IF NOT EXISTS misc_fourth_down_attempts integer,
  ADD COLUMN IF NOT EXISTS misc_total_penalties integer,
  ADD COLUMN IF NOT EXISTS misc_total_penalty_yards integer,
  ADD COLUMN IF NOT EXISTS misc_total_takeaways integer,
  ADD COLUMN IF NOT EXISTS misc_total_giveaways integer,
  -- Kicking / Punting extras
  ADD COLUMN IF NOT EXISTS kicking_long_field_goal_made integer,
  ADD COLUMN IF NOT EXISTS kicking_field_goals_made_1_19 integer,
  ADD COLUMN IF NOT EXISTS kicking_field_goals_made_20_29 integer,
  ADD COLUMN IF NOT EXISTS kicking_field_goals_made_30_39 integer,
  ADD COLUMN IF NOT EXISTS kicking_field_goals_made_40_49 integer,
  ADD COLUMN IF NOT EXISTS kicking_field_goals_made_50 integer,
  ADD COLUMN IF NOT EXISTS kicking_field_goal_attempts_1_19 integer,
  ADD COLUMN IF NOT EXISTS kicking_field_goal_attempts_20_29 integer,
  ADD COLUMN IF NOT EXISTS kicking_field_goal_attempts_30_39 integer,
  ADD COLUMN IF NOT EXISTS kicking_field_goal_attempts_40_49 integer,
  ADD COLUMN IF NOT EXISTS kicking_field_goal_attempts_50 integer,
  ADD COLUMN IF NOT EXISTS kicking_extra_points_made integer,
  ADD COLUMN IF NOT EXISTS kicking_extra_point_attempts integer,
  ADD COLUMN IF NOT EXISTS kicking_extra_point_pct numeric,
  ADD COLUMN IF NOT EXISTS punting_long_punt integer,
  ADD COLUMN IF NOT EXISTS punting_punts_blocked integer,
  ADD COLUMN IF NOT EXISTS punting_touchbacks integer,
  ADD COLUMN IF NOT EXISTS punting_fair_catches integer,
  ADD COLUMN IF NOT EXISTS punting_punt_returns integer,
  ADD COLUMN IF NOT EXISTS punting_punt_return_yards integer,
  ADD COLUMN IF NOT EXISTS punting_avg_punt_return_yards numeric,
  -- Turnovers
  ADD COLUMN IF NOT EXISTS fumbles_lost integer,
  -- Opponent block (core; extend as needed)
  ADD COLUMN IF NOT EXISTS opp_games_played integer,
  ADD COLUMN IF NOT EXISTS opp_fumbles_recovered integer,
  ADD COLUMN IF NOT EXISTS opp_fumbles_lost integer,
  ADD COLUMN IF NOT EXISTS opp_total_offensive_yards numeric,
  ADD COLUMN IF NOT EXISTS opp_total_offensive_yards_per_game numeric,
  ADD COLUMN IF NOT EXISTS opp_net_passing_yards numeric,
  ADD COLUMN IF NOT EXISTS opp_net_passing_yards_per_game numeric,
  ADD COLUMN IF NOT EXISTS opp_total_points integer,
  ADD COLUMN IF NOT EXISTS opp_total_points_per_game numeric,
  ADD COLUMN IF NOT EXISTS opp_passing_completions integer,
  ADD COLUMN IF NOT EXISTS opp_passing_yards numeric,
  ADD COLUMN IF NOT EXISTS opp_passing_yards_per_game numeric,
  ADD COLUMN IF NOT EXISTS opp_passing_attempts integer,
  ADD COLUMN IF NOT EXISTS opp_passing_completion_pct numeric,
  ADD COLUMN IF NOT EXISTS opp_net_total_offensive_yards numeric,
  ADD COLUMN IF NOT EXISTS opp_net_total_offensive_yards_per_game numeric,
  ADD COLUMN IF NOT EXISTS opp_net_yards_per_pass_attempt numeric,
  ADD COLUMN IF NOT EXISTS opp_yards_per_pass_attempt numeric,
  ADD COLUMN IF NOT EXISTS opp_passing_long integer,
  ADD COLUMN IF NOT EXISTS opp_passing_touchdowns integer,
  ADD COLUMN IF NOT EXISTS opp_passing_interceptions integer,
  ADD COLUMN IF NOT EXISTS opp_passing_sacks integer,
  ADD COLUMN IF NOT EXISTS opp_passing_sack_yards_lost integer,
  ADD COLUMN IF NOT EXISTS opp_passing_qb_rating numeric,
  ADD COLUMN IF NOT EXISTS opp_rushing_yards numeric,
  ADD COLUMN IF NOT EXISTS opp_rushing_yards_per_game numeric,
  ADD COLUMN IF NOT EXISTS opp_rushing_attempts integer,
  ADD COLUMN IF NOT EXISTS opp_rushing_yards_per_rush_attempt numeric,
  ADD COLUMN IF NOT EXISTS opp_rushing_long integer,
  ADD COLUMN IF NOT EXISTS opp_rushing_touchdowns integer,
  ADD COLUMN IF NOT EXISTS opp_rushing_fumbles integer,
  ADD COLUMN IF NOT EXISTS opp_rushing_fumbles_lost integer,
  ADD COLUMN IF NOT EXISTS opp_receiving_receptions integer,
  ADD COLUMN IF NOT EXISTS opp_receiving_yards numeric,
  ADD COLUMN IF NOT EXISTS opp_receiving_yards_per_reception numeric,
  ADD COLUMN IF NOT EXISTS opp_receiving_long integer,
  ADD COLUMN IF NOT EXISTS opp_receiving_touchdowns integer,
  ADD COLUMN IF NOT EXISTS opp_receiving_fumbles integer,
  ADD COLUMN IF NOT EXISTS opp_receiving_fumbles_lost integer,
  ADD COLUMN IF NOT EXISTS opp_receiving_yards_per_game numeric,
  ADD COLUMN IF NOT EXISTS opp_misc_first_downs integer,
  ADD COLUMN IF NOT EXISTS opp_misc_first_downs_rushing integer,
  ADD COLUMN IF NOT EXISTS opp_misc_first_downs_passing integer,
  ADD COLUMN IF NOT EXISTS opp_misc_first_downs_penalty integer,
  ADD COLUMN IF NOT EXISTS opp_misc_third_down_convs integer,
  ADD COLUMN IF NOT EXISTS opp_misc_third_down_attempts integer,
  ADD COLUMN IF NOT EXISTS opp_misc_third_down_conv_pct numeric,
  ADD COLUMN IF NOT EXISTS opp_misc_fourth_down_convs integer,
  ADD COLUMN IF NOT EXISTS opp_misc_fourth_down_attempts integer,
  ADD COLUMN IF NOT EXISTS opp_misc_fourth_down_conv_pct numeric,
  ADD COLUMN IF NOT EXISTS opp_misc_total_penalties integer,
  ADD COLUMN IF NOT EXISTS opp_misc_total_penalty_yards integer,
  ADD COLUMN IF NOT EXISTS opp_misc_turnover_differential integer,
  ADD COLUMN IF NOT EXISTS opp_misc_total_takeaways integer,
  ADD COLUMN IF NOT EXISTS opp_misc_total_giveaways integer,
  ADD COLUMN IF NOT EXISTS opp_returning_kick_returns integer,
  ADD COLUMN IF NOT EXISTS opp_returning_kick_return_yards integer,
  ADD COLUMN IF NOT EXISTS opp_returning_yards_per_kick_return numeric,
  ADD COLUMN IF NOT EXISTS opp_returning_long_kick_return integer,
  ADD COLUMN IF NOT EXISTS opp_returning_kick_return_touchdowns integer,
  ADD COLUMN IF NOT EXISTS opp_returning_punt_returns integer,
  ADD COLUMN IF NOT EXISTS opp_returning_punt_return_yards integer,
  ADD COLUMN IF NOT EXISTS opp_returning_yards_per_punt_return numeric,
  ADD COLUMN IF NOT EXISTS opp_returning_long_punt_return integer,
  ADD COLUMN IF NOT EXISTS opp_returning_punt_return_touchdowns integer,
  ADD COLUMN IF NOT EXISTS opp_returning_punt_return_fair_catches integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goals_made integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goal_attempts integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goal_pct numeric,
  ADD COLUMN IF NOT EXISTS opp_kicking_long_field_goal_made integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goals_made_1_19 integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goals_made_20_29 integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goals_made_30_39 integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goals_made_40_49 integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goals_made_50 integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goal_attempts_1_19 integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goal_attempts_20_29 integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goal_attempts_30_39 integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goal_attempts_40_49 integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_field_goal_attempts_50 integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_extra_points_made integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_extra_point_attempts integer,
  ADD COLUMN IF NOT EXISTS opp_kicking_extra_point_pct numeric,
  ADD COLUMN IF NOT EXISTS opp_punting_punts integer,
  ADD COLUMN IF NOT EXISTS opp_punting_punt_yards integer,
  ADD COLUMN IF NOT EXISTS opp_punting_long_punt integer,
  ADD COLUMN IF NOT EXISTS opp_punting_gross_avg_punt_yards numeric,
  ADD COLUMN IF NOT EXISTS opp_punting_net_avg_punt_yards numeric,
  ADD COLUMN IF NOT EXISTS opp_punting_punts_blocked integer,
  ADD COLUMN IF NOT EXISTS opp_punting_punts_inside_20 integer,
  ADD COLUMN IF NOT EXISTS opp_punting_touchbacks integer,
  ADD COLUMN IF NOT EXISTS opp_punting_fair_catches integer,
  ADD COLUMN IF NOT EXISTS opp_punting_punt_returns integer,
  ADD COLUMN IF NOT EXISTS opp_punting_punt_return_yards integer,
  ADD COLUMN IF NOT EXISTS opp_punting_avg_punt_return_yards numeric,
  ADD COLUMN IF NOT EXISTS opp_defensive_interceptions integer;
